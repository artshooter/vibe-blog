# 桃花源记 - 设计文档

## 内容理解

陶渊明的千古名篇，讲述武陵渔人偶入桃花源又失之的故事。这是一个关于**理想世界的发现与失去**的寓言。

**叙事结构**：
1. **缘溪行** → 偶然发现桃花林
2. **入洞** → 从狭窄到豁然开朗
3. **桃源内** → 理想世界的美好
4. **辞去** → 离开与标记
5. **迷路** → 再也找不到

**核心意蕴**：
- 桃花源是现实苦难的对照
- "不足为外人道"——美好需要保护
- "不复得路"——理想世界不可复得
- 最终"无问津者"——人们放弃了追寻

**关键意象**：
- 桃花林（落英缤纷、夹岸数百步）
- 山洞入口（仿佛若有光）
- 豁然开朗的瞬间
- 田园世界（良田美池、鸡犬相闻）
- 黄发垂髫、怡然自乐

## 设计直觉

### 第一感受

**画面**：粉色花瓣如雨落下，溪水潺潺流过，前方隐约有光。穿过狭窄的山洞，眼前豁然开朗——一片世外田园，炊烟袅袅，鸡犬之声相闻。

**色彩**：
- 桃花粉 `#FFB7C5`
- 溪水青 `#7FDBDA`
- 新叶绿 `#98D8AA`
- 田野金 `#F5DEB3`
- 炊烟白 `#F5F5F5`
- 山洞暗 `#3D3D3D`（过渡用）

**感觉**：梦幻、宁静、温暖、带着淡淡的惆怅（因为最终失去）

**节奏**：
- 开头缓慢（缘溪行）
- 发现时惊喜（忽逢桃花林）
- 入洞时紧张（初极狭）
- 豁然开朗时舒展
- 结尾惆怅（不复得路）

## 视觉风格

### 色彩方案

```
主色调：桃花粉 #FFB7C5 → #FFC0CB（花瓣渐变）
辅助色：春水青 #7FDBDA、田野绿 #98D8AA
暖色调：夕阳金 #F5DEB3（桃源内的温暖）
过渡色：山洞暗 #3D3D3D → #1A1A1A
背景色：宣纸米 #FFF8F0
```

### 字体选择

- **标题**：楷书风格（古典文人气质）
- **正文**：思源宋体，1.8倍行高
- **对话**：可用稍细的字体，区分叙述

### 视觉元素

- **落英缤纷**：飘落的桃花瓣
- **溪流**：贯穿页面的水流
- **山洞光影**：从暗到明的过渡
- **田园剪影**：房舍、桑竹、阡陌
- **人物剪影**：渔人、村民、孩童

## 交互设计

### 1. 花瓣飘落

页面始终有桃花瓣缓缓飘落：
- 轻盈、随机的飘落轨迹
- 密度随段落变化
- 桃花林段落最密集

### 2. 溪流引导

溪水作为视觉引导线：
- 从页面顶部蜿蜒而下
- 引导读者"缘溪行"
- 到山洞处消失

### 3. 洞口过渡

"从口入"时的特殊体验：
- 画面逐渐变暗变窄
- "初极狭"时视野收紧
- "豁然开朗"时突然展开，色彩变亮

### 4. 田园动态

桃源内的生活气息：
- 远处炊烟袅袅
- 鸡犬偶尔出现
- 人物在田间劳作

### 5. 迷失效果

结尾"不复得路"：
- 画面逐渐模糊
- 桃花源渐渐消散
- 如梦初醒的感觉

## 沉浸式设计

### 核心隐喻：一场寻而复失的梦

将阅读体验设计成**跟随渔人的旅程**，最终如梦醒般失去：

**Hero 区域**（桃花林）：
- 漫天桃花，落英缤纷
- 溪水从画面中流过
- 标题"桃花源记"在花瓣中显现
- 营造梦幻、引人入胜的氛围

**第一段**（发现）：
- 缘溪而行的画面
- 桃花林逐渐出现
- "忽逢"的惊喜感

**第二段**（进入）：
- 关键的**过渡设计**
- 山洞入口，"仿佛若有光"
- 从狭窄到豁然开朗
- 这是全文最重要的视觉转折

**第三段**（桃源）：
- 最温暖明亮的画面
- 田园牧歌的场景
- 村民热情款待
- "不足为外人道"的神秘

**第四段**（失去）：
- 画面逐渐黯淡
- 标记消失，道路迷失
- 桃源如梦般消散
- "后遂无问津者"的惆怅

### 梦境感的营造

- 整体色调偏柔和，略带朦胧
- 边缘可以有轻微的晕染效果
- 桃源内的画面比外界更明亮、更饱和
- 结尾时一切褪色，暗示"不可复得"

## 响应式考虑

### 桌面端

- 宽幅展示桃花林的延展
- 山洞过渡可以是水平的收窄再展开
- 桃源内场景有更多细节

### 移动端

- 纵向的桃花飘落
- 山洞过渡是垂直的明暗变化
- 简化粒子数量，保证性能
- 触摸可以拨动花瓣（可选）

## 技术实现

### 组件结构

```
app/components/peach-blossom-spring/
├── Hero.tsx              # 封面：桃花林
├── ContentSection.tsx    # 正文容器
├── PeachBlossoms.tsx     # 桃花飘落效果
├── StreamPath.tsx        # 溪流引导线
├── CaveTransition.tsx    # 山洞过渡效果
├── UtopiaScene.tsx       # 桃源田园场景
├── VillageSilhouette.tsx # 村庄剪影
└── FadeAway.tsx          # 结尾消散效果
```

### 关键技术

1. **花瓣飘落**：Canvas 或 CSS animation + 随机参数
2. **溪流路径**：SVG path + 动画
3. **洞口过渡**：CSS clip-path 或 mask 实现收窄
4. **豁然开朗**：视口宽度 + 亮度同时变化
5. **消散效果**：opacity + blur 渐变

### 性能优化

- 花瓣数量动态调整（移动端减少）
- 使用 CSS 动画而非 JS 计算
- 场景元素懒加载
- 结尾效果用 CSS filter 而非 canvas

## Hero 组件规格

### inHome={true} 模式（首页卡片）

- 高度固定 `h-[400px]`
- 展示：桃花林场景，花瓣飘落
- 标题"桃花源记"
- 可见溪流的一角
- 整体粉绿色调，梦幻感

### inHome={false} 模式（文章详情页）

- 全屏高度 `min-h-screen`
- 完整的桃花林，落英缤纷
- 花瓣持续飘落
- 溪水在底部流过
- 远处隐约可见山洞入口

## 设计关键词

`桃花` `梦境` `田园` `理想` `失落` `粉色` `溪流` `豁然开朗` `世外` `古典`

## 特别说明

### 双重情感

这篇文章的情感是**双重的**：
- **美好**：桃源的理想世界
- **惆怅**：不可复得的遗憾

设计要同时传达这两种情感：
- 桃源内尽情展现美好
- 但整体带有一丝"梦"的不真实感
- 结尾的消散要有诗意的惆怅

### "豁然开朗"的设计

这是全文最关键的瞬间：
- 视觉上要有**强烈的对比**
- 从黑暗狭窄 → 明亮开阔
- 可以配合用户操作（滚动/点击）触发
- 让读者真正体验那种"豁然"的感觉
